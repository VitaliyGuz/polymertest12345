<link rel="import" href="../../bower_components/polymer/polymer.html"/>
<link rel="import" href="../../bower_components/paper-styles/typography.html">
<link rel="import" href="../../bower_components/firebase-element/firebase.html">
<link rel="import" href="../../bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-collection.html">
<link rel="import" href="../../bower_components/firebase-element/firebase-document.html">

<dom-module id="ski-passes-group-list">
  <template>

    <firebase-collection data="{{data}}"
                         location="https://polymertest12345.firebaseio.com/skiPassesGroupList"></firebase-collection>


    <paper-input type="number" value="{{newItemFirstNumber::input}}"
                 placeholder="Enter first number here..."></paper-input>
    <paper-input type="number" value="{{newItemLastNumber::input}}"
                 placeholder="Enter last number here..."></paper-input>
    <paper-input type="number" value="{{newItemNumberOfRuns::input}}"
                 placeholder="Enter the number of runs here..."></paper-input>
    <paper-button on-click="addItem">Add</paper-button>

    <template is="dom-repeat" items="{{data}}">
      <div>
        <paper-icon-button icon="delete" on-click="deleteItem"></paper-icon-button>
        <span>{{item.firstNumber}}</span>
        <span>{{item.lastNumber}}</span>
        <span>{{item.numberOfRuns}}</span>
      </div>
    </template>



  </template>

  <script>
    (function () {
      'use strict';

      Polymer({
        is: "ski-passes-group-list",
        //app.baseUrl = 'https://polymertest12345.firebaseapp.com/';
        ref: new Firebase('https://polymertest12345.firebaseio.com/skiPassesGroupList'),
        properties: {
          items: {
            type: Array,
            notify: true
          }
        },

        addItem: function (event) {
          event.preventDefault(); // Don't send the form!
          this.ref.push({
            firstNumber: this.newItemFirstNumber,
            lastNumber: this.newItemLastNumber,
            numberOfRuns: this.newItemNumberOfRuns
          });
          //firstNumber = '';
        },

        deleteItem: function () {
          this.ref.child(event.model.item.__firebaseKey__).remove();
        }
      })
    })()
  </script>

</dom-module>
